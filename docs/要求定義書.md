# アスレチックトレーナー向け カルテ管理アプリ 要求定義書 (MVP版)

## 1. プロジェクト概要

### 1.1. プロジェクト名
（仮称）トレーナーズ・ログ (Trainer's Log)

### 1.2. プロジェクトの背景
現状、アスレチックトレーナー（以下、ユーザー）は、選手のコンディションや怪我の記録（カルテ）を練習後にExcelで管理している。
しかし、以下の課題を抱えている。

* **入力負荷**: PCでの手入力が面倒であり、練習現場で即時記録できず、記録漏れや時間の浪費が発生している。
* **データ分断**: Excelのシートやファイルが選手ごと、あるいは時系列でバラバラになっており、特定選手の過去の経過を時系列で把握するのが困難。
* **分析不能**: チーム全体の怪我の傾向やコンディションの変化を分析するためのデータ活用ができていない。

### 1.3. プロジェクトの目的
上記課題を解決するため、バイブコーディングでカルテ入力の効率化とデータの一元管理を実現するWebアプリケーションを開発する。

### 1.4. MVP (Minimum Viable Product) のゴール
本プロジェクトのMVPにおけるゴールは、以下の2点を達成することに絞る。

1.  **入力の効率化**: PCを開かずとも、**スマートフォン（またはタブレット）から、選択式入力主体で素早くカルテを記録できる**ようにする。
2.  **時系列での参照**: **特定の選手名で検索すれば、その選手の過去のカルテ（怪我、処置、指導履歴）が時系列で一覧表示**され、経過を即座に把握できるようにする。

---

## 2. ユーザーと利用シーン

### 2.1. メインユーザー
* アスレチックトレーナー（ユーザー本人）

### 2.2. 利用シーン
* **シーン1: 現場での記録**
    * 練習中や練習直後、トレーナールームやグラウンドで、選手からヒアリングしながらスマホでカルテ（SOAP）を入力する。
* **シーン2: 経過の確認**
    * 選手のリハビリメニューを組む際や、コーチに状態を報告する前に、スマホで当該選手の過去の履歴（例：「先週の捻挫からの回復具合」）を時系列で確認する。

---

## 3. 機能要件 (MVP)

MVPでは、現場での「入力」と「個人の時系列検索」に機能を集中させる。

### 3.1. 選手マスタ管理機能
* 【F-001】選手の基本情報（氏名、所属チーム、背番号など）を登録・編集・削除できる。
* 【F-002】カルテ入力時に、登録された選手名を一覧から選択できる。

### 3.2. カルテ入力機能 (SOAP)
* 【F-003】**スマホ・タブレット**から新規カルテを作成できる。
* 【F-004】以下の項目を入力できる。
    * **日付**: 自動で当日が入力され、修正も可能。（必須）
    * **選手名**: 選手マスタからの**選択式**。（必須）
    * **ステータス**: 練習参加可否（例：完全合流, 一部参加, 別メニュー, 見学）を**選択式**で入力。（必須）
    * **S (主観的症状)**: 選手の訴え、痛みの部位、発症時期など。（テキスト入力）
    * **O (客観的評価)**: 発生機序、痛みの度合い(NRS)、可動域、所見など。（テキスト入力＋NRSは数値入力）
    * **A (評価)**: トレーナーによる評価。（テキスト入力）
    * **P (計画・処置)**:
        * **処置内容**: （例：アイシング, テーピング, マッサージ, ストレッチ指導）などを**複数選択式（チェックボックス）**で入力。
        * **リハビリメニュー・指導内容**: （テキスト入力）

### 3.3. カルテ検索・閲覧機能 (最重要)
* 【F-005】**選手別 時系列閲覧**:
    * 選手一覧から選手を選択する（または選手名で検索する）。
    * 選択した選手の過去のカルテ（日付、ステータス、S O A Pの概要）が**時系列（新しい順）で一覧表示**される。
* 【F-006】一覧から特定の日付のカルテを選択すると、入力された詳細内容（F-004）を閲覧・編集できる。

---

## 4. 非機能要件 (MVP)

* **プラットフォーム**: スマートフォン、タブレットのWebブラウザで快適に操作できること（レスポンシブデザイン）。
* **パフォーマンス**: 選手の検索、カルテの時系列表示は3秒以内に完了すること。
* **セキュリティ**: 将来的にログイン機能によるアクセス制限を実装予定。データは安全に（クラウド上に）保管されること。

---

## 5. MVPでは「やらないこと」 (将来構想)

MVPのスコープを明確にするため、以下の機能は「やらないこと」と定義する。これらはMVPの運用が軌道に乗った後の拡張機能（フェーズ2）として検討する。

* **高度な入力支援**:
    * 人体のイラストをタップして部位を選択する機能
    * 音声入力、手書きメモのAI-OCR
    * 疾患名に基づくカルテテンプレートの自動生成
* **データ分析・可視化**:
    * チーム全体の怪我の傾向分析（例：「肉離れが多い」）やグラフ化
    * アラート機能（例：「疲労度が高い選手」の自動検出）
* **連携・共有**:
    * 監督、コーチ、選手への自動共有（インジュリーシート出力）
    * リハビリ動画や写真ファイルの添付
* **認証機能**:
    * ユーザー登録・ログイン機能（MVP版では実装しない）

---

## 6. 制約条件

### 6.1. 技術的制約
* Next.js 15 (App Router) + TypeScript + Tailwind CSSを使用
* Supabase (PostgreSQL + REST API) をバックエンドとして使用
* Vercelにデプロイ

### 6.2. スケジュール
* MVP版の開発期間: 即日完成を目指す
* フィードバック収集期間: MVP版リリース後、実運用でのフィードバックを収集

### 6.3. 予算
* 開発コスト: 無償フレームワークとBaaSを使用し、最小限のコストで実現
* インフラコスト: Supabase Free Tier / Vercel Free Tierを活用

---

## 7. 成功指標

MVP版の成功は、以下の指標で評価する。

1. **入力時間の短縮**: Excel記録と比較して、カルテ入力時間が50%以上短縮される
2. **データ検索性の向上**: 選手の過去履歴を3秒以内に確認できる
3. **ユーザー満足度**: トレーナーが「現場で使いやすい」と評価する
4. **継続利用率**: 1週間の継続利用率が80%以上

---

## 8. プロジェクト体制

* **開発**: AI開発アシスタント
* **レビュー**: プロジェクトオーナー（アスレチックトレーナー）
* **運用**: プロジェクトオーナー

---

## 9. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| スマホでの操作性が悪い | 高 | Tailwind CSSでモバイルファーストのレスポンシブデザインを徹底 |
| データベース設計の不備 | 中 | MVP版で必要最小限のスキーマに絞り、拡張性を考慮 |
| Supabase無料枠の制限 | 低 | 初期は無料枠で運用、必要に応じて有料プランへ移行 |

---

## 10. 承認

本要求定義書の内容について、以下の通り承認を得る。

* **承認者**: プロジェクトオーナー
* **承認日**: 2024年11月13日
* **次のステップ**: 要件定義書の作成 → 実装 → テスト → リリース
